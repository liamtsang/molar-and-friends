---
const currentPath = Astro.url.pathname;
---

<div class="drop-shadow-sm sticky top-0 w-full z-[100] bg-[rgba(255,255,255,1.9)]">
 <div 
    id="mobile-menu" 
    class="md:hidden absolute z-[5] top-[0] left-0 w-dvw bg-[#FFFFFF] shadow-lg transform -translate-y-full transition-transform duration-300 ease-in-out"
  >
    <nav class="w-[calc((6/7)*100%)] mx-auto flex flex-col py-4 space-y-4">
      <a 
        href="/" 
        class={`text-lg text-teal font-semibold transition-all duration-200 ${currentPath === '/' ? 'border-l-4 border-teal pl-2' : 'border-l-2 border-molar pl-2 hover:border-teal hover:translate-x-[8px]'}`}
      >
        Home
      </a>
      <a 
        href="/about"
        class={`text-lg text-teal font-semibold transition-all duration-200 ${currentPath === '/about' ? 'border-l-4 border-teal pl-2' : 'border-l-2 border-molar pl-2 hover:border-teal hover:translate-x-[8px]'}`}
      >
        About
      </a>
      <a 
        href="/your-first-visit"
        class={`text-lg text-teal font-semibold transition-all duration-200 ${currentPath === '/your-first-visit' ? 'border-l-4 border-teal pl-2' : 'border-l-2 border-molar pl-2 hover:border-teal hover:translate-x-[8px]'}`}
      >
        Your First Visit
      </a>
      <a 
        href="/waitlist"
        class="text-lg font-semibold bg-teal text-white px-4 py-2 rounded-full text-center mx-3"
      >
        JOIN WAITLIST
      </a>
    </nav>
  </div>
  <header class="relative z-[100] bg-[#FFFFFF] px-[calc((1/14)*100%)] z-[6] md:px-0 md:w-[calc((5/7)*100%)] max-w-[1024px] mx-auto h-20 md:h-24 flex flex-cols justify-between gap-8">
    <div class="flex flex-cols gap-8">
      <a href="/" class="h-20 md:h-24">
        <img class="h-full max-h-full justify-self-start pt-3 pb-3.5" src="/Logo.svg"/>
      </a>
      <!-- Desktop Navigation -->
      <div class="hidden md:flex text-lg font-semibold text-teal tracking-tight flex-row justify-self-start items-center space-x-4 pr-4">
        <a href="/" class={`${currentPath==='/' ? 'border-b-[2px] border-teal' : ''} hover:translate-y-[-4px] hover:border-b-[1px] hover:border-molar duration-100`}>
          Home
        </a>
        <a href="/about" class={`${currentPath==='/about' ? 'border-b-[2px] border-teal' : ''} hover:translate-y-[-4px] hover:border-b-[1px] hover:border-molar duration-100`}>
          About
        </a>
        <a href="/your-first-visit" class={`${currentPath==='/your-first-visit' ? 'border-b-[2px] border-teal' : ''} hover:translate-y-[-4px] hover:border-b-[1px] hover:border-molar duration-100`}>
          Your First Visit
        </a>
      </div>
    </div>
    <!-- Desktop CTA Button -->
    <a href="/waitlist" class="hidden md:block justify-self-end self-center bg-teal text-[#FFFFFF] font-bold h-fit px-10 py-3 rounded-full hover:bg-nightsky transition-all duration-200">
      JOIN WAITLIST
    </a>
    
    <!-- Mobile Navigation Button -->
    <button 
      id="mobile-menu-button"
      class="md:hidden self-center p-2" 
      aria-label="Toggle menu"
    >
      <svg 
        class="w-6 h-6 text-teal" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
      >
        <path 
          id="hamburger"
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M4 6h16M4 12h16M4 18h16"
        />
        <path 
          id="close"
          class="hidden"
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
  </header>

  <!-- Mobile Menu -->
 
<style>
  /* Add this class to show the menu */
  .menu-open {
    transform: translateY(5rem) !important;
  }
</style>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const hamburgerIcon = document.getElementById('hamburger');
  const closeIcon = document.getElementById('close');

  if (menuButton && mobileMenu && hamburgerIcon && closeIcon) {
    menuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('menu-open');
      hamburgerIcon.classList.toggle('hidden');
      closeIcon.classList.toggle('hidden');
    });
  }
</script>
